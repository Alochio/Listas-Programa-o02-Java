package principal;
import java.util.Scanner;

public class Main { 
	public static void main(String[] args){
		
		int i = 5; // valor para a quantidade de linhas da matriz (10 linhas, ou seja, 10 alunos)
		int j = 4; // valor para a quantidade de colunas da matriz (4 colunas, ou seja, 4 informações sobre os alunos)
		String ano = "2021"; //ano atual
		String semestre = "1"; //semestre atual
		 
		int[][] dados = new int[i][j]; //matriz principal
		String [] codigoMatricula = new String [i];
		
		lerValores(dados, codigoMatricula, i, j, ano, semestre); //chamando o método lerValoress
	}
	
	public static void lerValores(int dados[][],String codigoMatricula[], int i, int j, String ano, String semestre){ //metodo lerValores
		
		Scanner scan = new Scanner(System.in);

		int[] matricula = new int[i];
		 
		int aux = -1, aux2 = -1, aux3 = -1; //variaveis auxiliares
		
		for (int cont = 0; cont < dados.length; cont++){ //este laço serve para capturar as informações de aluno por aluno
			System.out.println("\tDigite as informações do aluno (" + cont + ")\n");
			
			System.out.print("Matricula (deve conter 3 digitos): ");
			  aux2 = scan.nextInt();
			 
			 if (aux2 > 99 && aux2 < 1000){ //condição para o numero digitado conter 3 digitos
				matricula[cont] = aux2;
				 
			  }else{
				  System.out.println("VALOR INVALIDO!!");
				  cont--;
				  aux3 = 0;
			  }
		    
			if (aux3 == -1){
				for(int cont2 = 0; cont2 < dados[cont].length; cont2++){
					switch (cont2) { //usei o Switch para poder colocar as informações na coluna certa na matriz
					    
					case 1: //para colocar as informações na coluna 1
						  System.out.print("Sexo(0 = Feminino/ 1 = Masculino) : ");
						  aux = scan.nextInt();
						  
						  if (aux == 0 || aux == 1){ //condição para que possa somente ser digitados os valores 0 e 1
							  dados[cont][cont2] = aux;
							  aux = -1;
						  }else{ //caso o valor seja diferente de 0 e 1
							  System.out.println("VALOR INVALIDO!!"); //imprime VALOR INVALIDO
							  aux = -1;
							  cont2--;
						  }
					    break;
					 
					case 2: //para colocar as informações na coluna 2
						 System.out.print("Código do Curso (valor com 4 digitos): ");
						aux = scan.nextInt();
						  
						  if(aux >= 999 && aux <= 10000){ //condição que faz com que só possa ser digitada uma nota que esteja entre 0 e 10
							  dados[cont][cont2] = aux;
							  aux = -1;
						  }else{ //caso seja digitado um valor diferente do desejado
							  System.out.println("VALOR INVALIDO!!"); //Imprime VALOR INVALIDO
							  aux = -1;
							  cont2--;
						  }
						  break;
					    
					  
					case 3: //para colocar as informações na coluna 3
						  System.out.print("CR (0 - 10) : ");
						  aux = scan.nextInt();
						  
						  if(aux >= 0 && aux <= 10){ //condição que faz com que só possa ser digitada uma nota que esteja entre 0 e 10
							  dados[cont][cont2] = aux;
							  aux = -1;
						  }else{ //caso seja digitado um valor diferente do desejado
							  System.out.println("VALOR INVALIDO!!"); //Imprime VALOR INVALIDO
							  aux = -1;
							  cont2--;
						  }
						  break;
					}//fim switch
			} //fim do segundo for
			}else{
				aux3 = -1;
			}
		} //fim do primeiro for	
				

		for(int cont = 0; cont < i; cont++){ //criando o codigo de matricula do aluno
			Integer.toString(matricula[cont], dados[cont][2]); //convertendo o vetor matricula e a matriz dados para inteiro
			codigoMatricula[cont] = ano + semestre + dados[cont][2] + matricula[cont]; //para criar o vetor codigoMatricula
		}
				
//		for(int cont =0 ; cont < dados.length; cont++){ //imprime uma tabela mostrando todos os alunos que foram inseridos no programa
//			System.out.print(codigoMatricula[cont]+"\t");
//			for(int cont2 = 1; cont2 < dados[cont].length; cont2++){
//				System.out.print(dados[cont][cont2]+"\t");
//			}
//			System.out.println("");
//		}
		
		imprimir(dados,codigoMatricula, i, j); //chamando o metodo imprimir
	} //fim ler valores

	
	public static void imprimir(int dados[][],String codigoMatricula[], int i, int j){ //metodo imprimir
		
		System.out.println("\n\t     Informações dos alunos informados: ");
		System.out.println("\t(Matricula - Sexo - Codigo do Curso - CR)");
		
		for (int cont = 0; cont < dados.length; cont++){ //este laço serve para mostrar na tela todos os alunos que foram capturados
			System.out.print(codigoMatricula[cont] + "\t");
			for(int cont2 = 1; cont2 < dados[cont].length; cont2++){
				System.out.print(dados[cont][cont2] + "\t");
			}
			System.out.println("");
		}
				maiorCR(dados,codigoMatricula, i, j); //chamando método maiorCR
	}//fim imprimir
	
	public static void maiorCR(int dados[][],String codigoMatricula[], int i, int j){ //método maiorCR
		
		Scanner scan = new Scanner(System.in); 
		int comparar;
		
		System.out.print("\n\nDigite o código do curso que deseja analizar: ");
		comparar = scan.nextInt(); //lendo no teclado qual o curso que deseja saber os alunos com maior coeficiente
		
		
		for(int cont = 0; cont == 0; ){ //laço para receber o curso que a pessoa deseja procurar o maior CR
			if(comparar > 999 && comparar < 10000){ // condição que não deixa o valor ter menos de 4 digitos
				cont = 1;
			}else{
				System.out.print("VALOR INVALIDO!!\nDigite novamente: "); //caso seja digitado um valor que não seja o esperado, pede para o usuario digitar novamente
				comparar = scan.nextInt();
				cont = 0;
			}	
		}
		
		int aux = -1, aux2 = -1, aux3 = -1; //inteiros auxiliares
		int[] posicao = new int[i]; //vetor auxiliar
		
		for(int cont = 0; cont < posicao.length; cont++){ //preenche todo o vetor auxiliar com o valor -1
			posicao[cont] = -1;
		}
		
		
		for (int cont = 0; cont < dados.length; cont++){
				if (dados[cont][2] == comparar){//analiza se o aluno está matriculado no curso solicitado
					if(aux2 == -1){ //analiza se é a primeira vez que entra nessa condição
						if(dados[cont][3] > aux){ //caso o valor seja maior do que -1
							aux = dados[cont][3]; //aux recebe o valor da matriz
							aux2 = 0; //serve para informar se já passou por aqui
							aux3 = cont; //salva a posição
							posicao[aux3] = cont; //salva a posição dentro do meu vetor auxiliar de posições
						}
					}
					if(aux2 == 0){ //se caso for a segunda vez que for salvar um numero
						if(dados[cont][3] > aux){ //caso seja maior do que o valor salvo anteriormente
							aux = dados[cont][3]; 
							posicao[aux3] = -1; //remove o valor anterior
							aux3 = cont;
							posicao[aux3] = cont; //armazena o novo
							
						}
						if(dados[cont][3] == aux){ //caso o valor de agora seja igual ao anterior
							aux3 = cont;
							posicao[aux3] = cont; //somente armazena a nova
						}
					}
				}	
		}		
			if(aux2 == -1){ //caso não haja o curso que foi solicitado
				System.out.println("CURSO NÃO CADASTRADO!!");
			}
			
		System.out.print("\n\tAluno(s) com maior CR do curso solicitado\n");
			
		for(int cont = 0; cont < dados.length; cont++){ //realiza a impressão final, com os maiores CRs
			if(posicao[cont] != -1){ //analiza o vetor auxiliar posição, caso o seu valor seja diferente do meu valor que eu usei para setar que neste caso é -1
				System.out.print(codigoMatricula[cont] + "\t"); //imprime o código de matricula
				for(int cont2 = 1;cont2 < dados[cont].length; cont2++){ //imprime o resto dos valores da matriz
					System.out.print(dados[cont][cont2] + "\t");
				}
				System.out.println(""); //salta uma linha por estética
			}
		}		
		}//fim maiorCR
}