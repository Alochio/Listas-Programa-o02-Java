package principal;
import java.util.Scanner;

public class Main { 
	public static void main(String[] args){
		
		int i = 2; // valor para a quantidade de linhas da matriz (10 linhas, ou seja, 10 alunos)
		int j = 4; // valor para a quantidade de colunas da matriz (4 colunas, ou seja, 4 informações sobre os alunos)
		String ano = "2021"; //ano atual
		String semestre = "1"; //semestre atual
		 
		int[][] dados = new int[i][j]; //matriz principal
		String [] codigoMatricula = new String [i];
		
		lerValores(dados, codigoMatricula, i, j, ano, semestre); //chamando o método lerValoress
	}
	
	public static void lerValores(int dados[][],String codigoMatricula[], int i, int j, String ano, String semestre){ //metodo lerValores
		
		Scanner scan = new Scanner(System.in);

		int[] matricula = new int[i];
		 
		int aux = -1, aux2 = -1, aux3 = -1; //variaveis auxiliares
		
		for (int cont = 0; cont < dados.length; cont++){ //este laço serve para capturar as informações de aluno por aluno
			System.out.println("\tDigite as informações do aluno (" + cont + ")\n");
			
			System.out.print("Matricula (deve conter 3 digitos): ");
			  aux2 = scan.nextInt();
			 
			 if (aux2 > 99 && aux2 < 1000){ //condição para o numero digitado conter 3 digitos
				matricula[cont] = aux2;
				 
			  }else{
				  System.out.println("VALOR INVALIDO!!");
				  cont--;
				  aux3 = 0;
			  }
		    
			if (aux3 == -1){
				for(int cont2 = 0; cont2 < dados[cont].length; cont2++){
					switch (cont2) { //usei o Switch para poder colocar as informações na coluna certa na matriz
					    
					case 1: //para colocar as informações na coluna 1
						  System.out.print("Sexo(0 = Feminino/ 1 = Masculino) : ");
						  aux = scan.nextInt();
						  
						  if (aux == 0 || aux == 1){ //condição para que possa somente ser digitados os valores 0 e 1
							  dados[cont][cont2] = aux;
							  aux = -1;
						  }else{ //caso o valor seja diferente de 0 e 1
							  System.out.println("VALOR INVALIDO!!"); //imprime VALOR INVALIDO
							  aux = -1;
							  cont2--;
						  }
					    break;
					 
					case 2: //para colocar as informações na coluna 2
						 System.out.print("Código do Curso (valor com 4 digitos): ");
						aux = scan.nextInt();
						  
						  if(aux >= 999 && aux <= 10000){ //condição que faz com que só possa ser digitada uma nota que esteja entre 0 e 10
							  dados[cont][cont2] = aux;
							  aux = -1;
						  }else{ //caso seja digitado um valor diferente do desejado
							  System.out.println("VALOR INVALIDO!!"); //Imprime VALOR INVALIDO
							  aux = -1;
							  cont2--;
						  }
						  break;
					    
					  
					case 3: //para colocar as informações na coluna 3
						  System.out.print("CR (0 - 10) : ");
						  aux = scan.nextInt();
						  
						  if(aux >= 0 && aux <= 10){ //condição que faz com que só possa ser digitada uma nota que esteja entre 0 e 10
							  dados[cont][cont2] = aux;
							  aux = -1;
						  }else{ //caso seja digitado um valor diferente do desejado
							  System.out.println("VALOR INVALIDO!!"); //Imprime VALOR INVALIDO
							  aux = -1;
							  cont2--;
						  }
						  break;
					}//fim switch
			} //fim do segundo for
			}else{
				aux3 = -1;
			}
		} //fim do primeiro for	
				

		for(int cont = 0; cont < i; cont++){
			Integer.toString(matricula[cont], dados[cont][2]);
			codigoMatricula[cont] = ano + semestre + dados[cont][2] + matricula[cont];
		}
				
		for(int cont =0 ; cont < dados.length; cont++){
			System.out.print(codigoMatricula[cont]+"\t");
			for(int cont2 = 1; cont2 < dados[cont].length; cont2++){
				System.out.print(dados[cont][cont2]+"\t");
			}
			System.out.println("");
		}
		
		imprimir(dados,codigoMatricula, i, j); //chamando o metodo imprimir
	} //fim ler valores

	
	public static void imprimir(int dados[][],String codigoMatricula[], int i, int j){ //metodo imprimir
		
		System.out.println("\nInformações dos alunos informados: \n");
		System.out.println("(Matricula - Sexo - Codigo do Curso - CR ");
		
		for (int cont = 0; cont < i; cont++){ //este laço serve para mostrar na tela todos os alunos que foram capturados
			System.out.print(codigoMatricula[cont] + "\t");
			for(int cont2 = 1; cont < j; cont2++){
				System.out.print(dados[cont][cont2] + "\t");
			}
			System.out.println("");
		}
//				maiorCR(dados,i,j); //chamando método maiorCR
	}//fim imprimir
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	public static void maiorCR(int dados[][],int i, int j){ //método maiorCR
		
		Scanner scan = new Scanner(System.in);
		int aux, aux2, posicao, x = 0, y = -1; //variaveis auxiliares 
		
		aux2 = -1; //atribui um valor inicial as minhas variaveis auxiliares
		posicao = -1;
		
		int[] posi = new int[i]; //criei um vetor para salvar as posições dos alunos com o maior CR do curso que será selecionado
		for(int cont = 0; cont < posi.length; cont++){ //atribuindo o valor -1 a todos os espaços do vetor
			posi[cont] = -1;
		}
		
		System.out.print("\n\nDigite o curso que deseja encontrar maior CR: ");
		
		aux = scan.nextInt(); //lendo no teclado qual o curso que deseja saber os alunos com maior coeficiente
		
		
		for(int cont = 0; cont < dados.length; cont++){ //laço para descobrir quen são os alunos com maior CR no curso selecionado
			if (dados[cont][2] == aux){ //condição para pegar somente o curso desejado
				if (dados[cont][3] > aux2){ //caso o valor da matriz seja maior do que o auxiliar, entra na condição
					
					aux2 = dados[cont][3]; //aux2 recebe o valor da matriz, então na proxima vez que o FOR for analizar, ele ira comparar a matriz com o maior valor anterior
					
					if (x == 0){ //condição que analiza se é a primeira vez que a condição anterior é atendida
						y = cont; //variavel que auxilia armazenando o valor da posição que foi armazenada por ultimo
						posi[cont] = cont; //vetor posição recebe a posição
						x = 1; //serve para informar se esta codição já foi executada
					}
					if(x == 1){  //condição que só executa se a anterior já rodou, ou seja, já tem uma posição armazenada
						posi[y] = -1; //excluo a posição anterior armazenada, passando a ela o valor de -1, que mais para frente eu mandarei o código não imprimir
						posi[cont] = cont; //vetor posi vai receber uma nova posição
						y = cont; //esta variavel agr recebera um novo valor, da ultima posição salva
					}
					
				}
				if(dados[cont][3] == aux2){ //condição para imprimir mais de um CR caso sejam iguais
					aux2 = dados[cont][3];					
					posi[cont] = cont; //armazena um novo vetor sem remover o anterior
				}
			}
		}
			
		int v = -1; //uma variavel auxiliar, somente para me auxiliar no caso não possua nenhum aluno matriculado no curso desejado
		
		System.out.println("O(s) aluno(s) com maior CR do curso " + aux + " foi(foram): ");

		
		
//------------------------------------------------------------------
//-----------------------------------------------------------------
		
		
		for(int cont = 0; cont < posi.length; cont++){
			if (posi[cont] != -1){ //for para realizar a impressão somente das possições dos vetores que foram preenchidos com algum valor
				posicao = posi[cont];
				System.out.println(posicao+"\t" +  dados[posicao][2] + dados[posicao][0]+"\t"+ dados[posicao][3]);
				v = 0; //zera a variavel auxiliar para me informar que esse if foi lido
			}
		}	
		
//------------------------------------------------------------------		
		
//-------------------------------------------------------------------		
		
		
		if (v == -1){ //averiguando se passou alguma vez pelo if a cima, caso não, nenhum aluno foi matriculado no curso que foi filtrado para a pesquisa
			System.out.println("CURSO NÃO ENCONTRADO!!");
		}
		} //fim maior CR
}